exports.id=674,exports.ids=[674],exports.modules={7687:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},682:(e,t,r)=>{Promise.resolve().then(r.bind(r,5085))},810:(e,t,r)=>{"use strict";r.d(t,{Z:()=>k});var s=r(2295),a=r(3729),n=r(783),i=r.n(n),l=r(2254),o=r(6256),c=r(6700);let d=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))});var h=r(454),u=r(6233),m=r(4122),f=r(6215);let g=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}),x=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}),p=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}),w=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}),v=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}),y=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}),b=[{name:"Dashboard",href:"/",icon:d,roles:["user","researcher","admin"]},{name:"Research",href:"/research",icon:h.Z,roles:["researcher","admin"]},{name:"Compliance",href:"/compliance",icon:u.Z,roles:["user","researcher","admin"]},{name:"Agents",href:"/agents",icon:m.Z,roles:["admin"]},{name:"Admin",href:"/admin",icon:f.Z,roles:["admin"]}];function k({children:e}){let[t,r]=(0,a.useState)(!1),{user:n,isAuthenticated:d}=(0,c.a)(),{theme:h,setTheme:u}=(0,o.F)(),m=(0,l.useRouter)(),f=b.filter(e=>n?.role&&e.roles.includes(n.role));return d?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,s.jsxs)("div",{className:`fixed inset-0 z-50 lg:hidden ${t?"block":"hidden"}`,children:[s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),(0,s.jsxs)("div",{className:"fixed inset-y-0 left-0 flex w-full max-w-xs flex-col bg-white dark:bg-gray-800",children:[(0,s.jsxs)("div",{className:"flex h-16 flex-shrink-0 items-center justify-between px-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"ISA Platform"}),s.jsx("button",{onClick:()=>r(!1),className:"text-gray-400 hover:text-gray-500",children:s.jsx(g,{className:"h-6 w-6"})})]}),s.jsx("nav",{className:"flex-1 space-y-1 px-2 py-4",children:f.map(e=>(0,s.jsxs)(i(),{href:e.href,className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",onClick:()=>r(!1),children:[s.jsx(e.icon,{className:"mr-3 h-5 w-5"}),e.name]},e.name))})]})]}),s.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:(0,s.jsxs)("div",{className:"flex flex-col flex-grow bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"flex items-center h-16 flex-shrink-0 px-4",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"ISA Platform"})}),s.jsx("nav",{className:"flex-1 flex flex-col divide-y divide-gray-200 dark:divide-gray-700 overflow-y-auto",children:s.jsx("div",{className:"px-2 py-4 space-y-1",children:f.map(e=>(0,s.jsxs)(i(),{href:e.href,className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:[s.jsx(e.icon,{className:"mr-3 h-5 w-5"}),e.name]},e.name))})})]})}),(0,s.jsxs)("div",{className:"lg:pl-64",children:[(0,s.jsxs)("div",{className:"sticky top-0 z-10 flex h-16 flex-shrink-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:()=>r(!0),className:"px-4 border-r border-gray-200 dark:border-gray-700 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary lg:hidden",children:s.jsx(x,{className:"h-6 w-6"})}),(0,s.jsxs)("div",{className:"flex flex-1 justify-between px-4",children:[s.jsx("div",{className:"flex flex-1",children:(0,s.jsxs)("div",{className:"flex w-full md:ml-0",children:[s.jsx("label",{htmlFor:"search-field",className:"sr-only",children:"Search"}),s.jsx("div",{className:"relative w-full text-gray-400 focus-within:text-gray-600",children:s.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center"})})]})}),(0,s.jsxs)("div",{className:"ml-4 flex items-center md:ml-6",children:[s.jsx("button",{onClick:()=>u("dark"===h?"light":"dark"),className:"p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"dark"===h?s.jsx(p,{className:"h-6 w-6"}):s.jsx(w,{className:"h-6 w-6"})}),s.jsx("div",{className:"ml-3 relative",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:n?.username}),s.jsx(i(),{href:"/auth/profile",className:"p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:s.jsx(v,{className:"h-6 w-6"})}),s.jsx("button",{onClick:()=>{localStorage.removeItem("access_token"),m.push("/auth/login")},className:"p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:s.jsx(y,{className:"h-6 w-6"})})]})})]})]})]}),s.jsx("main",{className:"flex-1",children:e})]})]}):s.jsx(s.Fragment,{children:e})}},5085:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Providers:()=>c});var s=r(2295);r(3729);var a=r(6274),n=r(5849),i=r(6256),l=r(4669);let o=new(r(8503)).S({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5,retry:(e,t)=>!(t?.response?.status>=400&&t?.response?.status<500)&&e<3,refetchOnWindowFocus:!1},mutations:{retry:!1}}});function c({children:e}){return(0,s.jsxs)(a.aH,{client:o,children:[(0,s.jsxs)(i.f,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:[e,s.jsx(l.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]}),s.jsx(n.t,{initialIsOpen:!1})]})}},6700:(e,t,r)=>{"use strict";r.d(t,{a:()=>n});var s=r(5037),a=r(6548);function n(){let{data:e,isLoading:t,error:r,refetch:n}=(0,s.a)({queryKey:["currentUser"],queryFn:()=>a.x.getCurrentUser(),retry:!1,staleTime:3e5}),i=e?.role==="admin",l=e?.role==="researcher"||i;return{user:e,isLoading:t,isAuthenticated:!!e&&!r,isAdmin:i,isResearcher:l,error:r,refetch:n}}},6548:(e,t,r)=>{"use strict";r.d(t,{x:()=>i});var s=r(1934);let a=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8000";class n{constructor(e=3e5){this.client=s.Z.create({baseURL:a,headers:{"Content-Type":"application/json"}}),this.cache=new Map,this.ttl=e,this.stats={hits:0,misses:0,concurrent:0},this.client.interceptors.request.use(e=>{let t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(localStorage.removeItem("access_token"),window.location.href="/auth/login"),Promise.reject(e)))}generateKey(e){let{method:t,url:r,params:s,data:a}=e;return`${t?.toUpperCase()||"GET"}:${r}:${JSON.stringify(s||{})}:${JSON.stringify(a||{})}`}isExpired(e){return Date.now()-e.timestamp>this.ttl}getCachedResponse(e){let t=this.cache.get(e);return t?this.isExpired(t)?(this.cache.delete(e),null):t:null}setCachedResponse(e,t,r){this.cache.set(e,{response:t,timestamp:Date.now(),promise:r})}clearExpired(){for(let[e,t]of this.cache.entries())this.isExpired(t)&&this.cache.delete(e)}async deduplicatedRequest(e){let t=this.generateKey(e),r=this.getCachedResponse(t);if(r)return r.promise?(this.stats.concurrent++,r.promise):(this.stats.hits++,r.response);this.stats.misses++;let s=this.client.request(e).then(e=>(this.setCachedResponse(t,e.data),e.data)).catch(e=>{throw this.cache.delete(t),e});return this.setCachedResponse(t,null,s),s}getDeduplicationStats(){return{...this.stats}}clearCache(){this.cache.clear()}async register(e){return this.deduplicatedRequest({method:"post",url:"/auth/register",data:e})}async login(e){return this.deduplicatedRequest({method:"post",url:"/auth/login",data:e})}async getCurrentUser(){return this.deduplicatedRequest({method:"get",url:"/auth/me"})}async updateProfile(e){return this.deduplicatedRequest({method:"put",url:"/auth/me",data:e})}async changePassword(e,t){return this.deduplicatedRequest({method:"post",url:"/auth/change-password",data:{old_password:e,new_password:t}})}async forgotPassword(e){return this.deduplicatedRequest({method:"post",url:"/auth/forgot-password",data:e})}async resetPassword(e){return this.deduplicatedRequest({method:"post",url:"/auth/reset-password",data:e})}async research(e){return this.deduplicatedRequest({method:"get",url:"/research",params:{query:e}})}async getUsers(e=0,t=100){return this.deduplicatedRequest({method:"get",url:"/admin/users",params:{skip:e,limit:t}})}async updateUserRole(e,t){return this.deduplicatedRequest({method:"put",url:`/admin/users/${e}/role`,data:{new_role:t}})}async healthCheck(){return this.deduplicatedRequest({method:"get",url:"/"})}}let i=new n},7068:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>h});var s=r(5036),a=r(2195),n=r.n(a);r(5023);var i=r(6843);let l=(0,i.createProxy)(String.raw`/Users/frisowempe/ISA_D/frontend/src/components/providers.tsx`),{__esModule:o,$$typeof:c}=l;l.default;let d=(0,i.createProxy)(String.raw`/Users/frisowempe/ISA_D/frontend/src/components/providers.tsx#Providers`);r(2);let h={title:"ISA Research Platform",description:"Advanced research and compliance platform powered by AI agents"};function u({children:e}){return s.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:s.jsx("body",{className:n().className,children:s.jsx(d,{children:e})})})}},5023:()=>{},6233:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(3729);let a=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))})},4122:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(3729);let a=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))})},454:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(3729);let a=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))})},6215:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(3729);let a=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))})}};